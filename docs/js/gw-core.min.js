!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).GW=n.GW||{})}(this,(function(n){"use strict";const t=[[0,1],[1,0],[0,-1],[-1,0],[1,1],[1,-1],[-1,-1],[-1,1]];function r(n,t,r){return n<t?t:n>r?r:n}function e(n){return n.x||n[0]||0}function o(n){return n.y||n[1]||0}function i(n,t,r,e){const o=Math.abs(n-r),i=Math.abs(t-e);return o+i-.6*Math.min(o,i)}function u(n,t,r,e){let o=r-n,i=e-t;if(o&&i){const n=Math.abs(o),t=Math.abs(i);n>=2*t?i=0:t>=2*n&&(o=0)}return[Math.sign(o),Math.sign(i)]}function c(n,t,r=null){let e;Object.keys(t).forEach((o=>{const i=o;let u=t[o];e=n;const c=o.split(".");for(;c.length>1;)o=c.shift(),void 0===e[o]?e=e[o]={}:"object"!=typeof e[o]?f("Trying to set default member on non-object config item: "+i):e=e[o];o=c.shift();let s=e[o];r&&r(e,o,s,u)||void 0===s&&(null===u?e[o]=null:Array.isArray(u)?e[o]=u.slice():e[o]=u)}))}function f(n){throw new Error(n)}var s={__proto__:null,DIRS:t,NO_DIRECTION:-1,UP:0,RIGHT:1,DOWN:2,LEFT:3,RIGHT_UP:4,RIGHT_DOWN:5,LEFT_DOWN:6,LEFT_UP:7,CLOCK_DIRS:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],NOOP:function(){},TRUE:function(){return!0},FALSE:function(){return!1},ONE:function(){return 1},ZERO:function(){return 0},IDENTITY:function(n){return n},clamp:r,x:e,y:o,copyXY:function(n,t){n.x=e(t),n.y=o(t)},addXY:function(n,t){n.x+=e(t),n.y+=o(t)},equalsXY:function(n,t){return n.x==e(t)&&n.y==o(t)},lerpXY:function(n,t,i){i>1&&(i/=100),i=r(i,0,1);const u=e(t)-e(n),c=o(t)-o(n);return[e(n)+Math.floor(u*i),o(n)+Math.floor(c*i)]},distanceBetween:i,distanceFromTo:function(n,t){return i(e(n),o(n),e(t),o(t))},calcRadius:function(n,t){return i(0,0,n,t)},dirBetween:u,dirFromTo:function(n,t){return u(e(n),o(n),e(t),o(t))},dirIndex:function(n){const r=e(n),i=o(n);return t.findIndex((n=>n[0]==r&&n[1]==i))},isOppositeDir:function(n,t){return n[0]+t[0]==0&&n[1]+t[1]==0},isSameDir:function(n,t){return n[0]==t[0]&&n[1]==t[1]},dirSpread:function(n){const t=[n];return 0==n[0]?(t.push([1,n[1]]),t.push([-1,n[1]])):0==n[1]?(t.push([n[0],1]),t.push([n[0],-1])):(t.push([n[0],0]),t.push([0,n[1]])),t},stepFromTo:function(n,t,r){const i=e(n),u=o(n),c=[e(t)-i,o(t)-u],f=Math.abs(c[0])+Math.abs(c[1]),s=[0,0],a=[99999,99999];for(let n=0;n<=f;++n)s[0]=i+Math.floor(c[0]*n/f),s[1]=u+Math.floor(c[1]*n/f),s[0]==a[0]&&s[1]==a[1]||r(s[0],s[1]),a[0]=s[0],a[1]=s[1]},smoothHiliteGradient:function(n,t){return Math.floor(100*Math.sin(Math.PI*n/t))},assignOmitting:function(n,t,r){"string"==typeof n&&(n=n.split(/[,|]/g).map((n=>n.trim()))),Object.keys(r).forEach((e=>{n.includes(e)||function(n,t,r){const e=n[r],o=t[r];e&&e.copy&&o?e.copy(o):e&&e.clear&&!o?e.clear():e&&e.nullify&&!o?e.nullify():o&&o.clone?n[r]=o.clone():o&&Array.isArray(o)?n[r]=o.slice():e&&Array.isArray(e)?e.length=0:n[r]=o}(t,r,e)}))},setDefault:function(n,t,r){void 0===n[t]&&(n[t]=r)},setDefaults:c,kindDefaults:function(n,t){return c(n,t,(function(n,t,r,e){return!(t.search(/[fF]lags$/)<0)&&(r?"string"==typeof r?r=r.split(/[,|]/).map((n=>n.trim())):Array.isArray(r)||(r=[r]):r=[],"string"==typeof e?e=e.split(/[,|]/).map((n=>n.trim())):Array.isArray(e)||(e=[e]),n[t]=e.concat(r),!0)}))},pick:function(n,...t){const r={};return t.forEach((t=>{const e=n[t];void 0!==e&&(r[t]=e)})),r},clearObject:function(n){Object.keys(n).forEach((t=>n[t]=void 0))},ERROR:f,WARN:function(...n){console.warn(...n)},getOpt:function(n,t,r){const e=n[t];return void 0===e?r:e},firstOpt:function(n,...t){for(let r of t){if("object"!=typeof r||Array.isArray(r))return r;if(void 0!==r[n])return r[n]}},arraysIntersect:function(n,t){return n.some((n=>t.includes(n)))},sum:function(n){return n.reduce(((n,t)=>n+t))},chainLength:function(n){let t=0;for(;n;)t+=1,n=n.next;return t},chainIncludes:function(n,t){for(;n&&n!==t;)n=n.next;return n===t},eachChain:function(n,t){let r=0;for(;n;){const e=n.next;t(n,r++),n=e}return r},addToChain:function(n,t,r){return r.next=n[t]||null,n[t]=r,!0},removeFromChain:function(n,t,r){const e=n[t];if(e===r)return n[t]=r.next||null,r.next=null,!0;if(!e)return!1;{let n=e,t=n.next;for(;t&&t!==r;)n=t,t=n.next;if(t===r)return n.next=t.next||null,r.next=null,!0}return!1}};n.test=function(){return 4},n.utils=s,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=gw-core.min.js.map
